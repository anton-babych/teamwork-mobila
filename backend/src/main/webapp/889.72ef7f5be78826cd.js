"use strict";(self.webpackChunkmobila=self.webpackChunkmobila||[]).push([[889],{6889:(Q,p,c)=>{c.r(p),c.d(p,{AdminPageComponent:()=>J});var m=c(8649),a=c(6895),e=c(4650),u=c(9749);const g=["title",""];let f=(()=>{class n{constructor(){this.title="",this.isClosed=new e.vpe,this.isAccepted=new e.vpe}ngAfterViewInit(){this.animateIn()}onClose(){this.animateOut()}animateIn(){u.p8.fromTo(".message",{opacity:0},{opacity:1})}animateOut(){u.p8.fromTo(".message",{opacity:1},{opacity:0,onComplete:()=>this.isClosed.emit()})}onAccept(){this.isAccepted.emit(),this.animateOut()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["alert-message","title",""]],inputs:{title:"title"},outputs:{isClosed:"isClosed",isAccepted:"isAccepted"},standalone:!0,features:[e.jDz],attrs:g,decls:10,vars:1,consts:[[1,"message"],[1,"message__title"],[1,"message__content"],[1,"message__buttons"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.GkF(4),e.qZA(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return o.onAccept()}),e._uU(7,"yes"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.onClose()}),e._uU(9,"no"),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.title))},styles:[".message[_ngcontent-%COMP%]{position:fixed;z-index:150;top:50%;left:50%;transform:translate(-50%,-50%);min-width:5rem;min-height:4rem;background-color:#2f2f2f;border-radius:.5rem;box-shadow:0 0 25px #000;display:flex;flex-direction:column}.message__buttons[_ngcontent-%COMP%]{background-color:#161616;display:flex;justify-content:space-evenly}.message__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:1rem 0}.message__title[_ngcontent-%COMP%]{text-align:center;font-family:Jetbrains,sans-serif;font-weight:100;font-size:2rem;padding:2rem}"],changeDetection:0}),n})();var h=c(1135),l=c(7755);function _(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"alert-message",2),e.NdJ("isAccepted",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.confirmDelete())})("isClosed",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.isMessageVisible$.next(!1))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("title","delete product with id "+t.productId+"?")}}let b=(()=>{class n{constructor(t){this.productFacade=t,this.isMessageVisible$=new h.X(!1)}confirmDelete(){this.productFacade.deleteProductById(this.category,this.productId)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.g0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["delete-product-icon"]],inputs:{productId:"productId",category:"category"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[["src","assets/icons/delete-button.svg","alt","delete icon",1,"delete-icon",3,"click"],[3,"title","isAccepted","isClosed",4,"ngIf"],[3,"title","isAccepted","isClosed"]],template:function(t,o){1&t&&(e.TgZ(0,"img",0),e.NdJ("click",function(){return o.isMessageVisible$.next(!0)}),e.qZA(),e.YNc(1,_,1,1,"alert-message",1),e.ALo(2,"async")),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,o.isMessageVisible$)))},dependencies:[a.Ov,a.O5,f],styles:[".delete-icon[_ngcontent-%COMP%]{height:2rem;cursor:pointer}"],changeDetection:0}),n})();var r=c(4006);const y=["item",""];function C(n,i){if(1&n&&(e.TgZ(0,"div",2)(1,"label"),e._uU(2),e.qZA(),e._UZ(3,"input",7),e.qZA()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("type",t.type)("formControlName",t.name)}}let x=(()=>{class n{constructor(t){this.formBuilder=t,this.isSubmitted=new e.vpe,this.smartphoneId=new r.NI(""),this.formFields=[],this.form=this.formBuilder.group({})}ngOnInit(){typeof this.item>"u"||(this.form=new r.cw({id:new r.NI(this.item.id,{nonNullable:!0}),description:new r.NI(this.item.description,{nonNullable:!0}),imagePath:new r.NI(this.item.imagePath,{nonNullable:!0}),model:new r.NI(this.item.model,{nonNullable:!0}),firm:new r.NI(this.item.firm,{nonNullable:!0}),price:new r.NI(this.item.price,{nonNullable:!0})}),this.formFields=[{name:"id",type:"text",value:this.form.value.id},{name:"imagePath",type:"text",value:this.form.value.imagePath},{name:"description",type:"text",value:this.form.value.description},{name:"price",type:"number",value:this.form.value.price},{name:"firm",type:"text",value:this.form.value.firm},{name:"model",type:"text",value:this.form.value.model}],this.generateFormFields())}generateFormFields(){for(let t of this.formFields)this.form.addControl(t.name,this.formBuilder.control(t.value,r.kI.required))}onSubmit(){this.isSubmitted.emit({product:this.form.value,smartphoneId:this.smartphoneId.value})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["headphones-form","item",""]],inputs:{item:"item"},outputs:{isSubmitted:"isSubmitted"},standalone:!0,features:[e.jDz],attrs:y,decls:11,vars:4,consts:[[1,"form",3,"formGroup","ngSubmit"],["class","form-input",4,"ngFor","ngForOf"],[1,"form-input"],["type","text",3,"formControl"],[1,"form-buttons"],["type","submit",1,"form-buttons__btn",3,"disabled"],["type","reset",1,"form-buttons__btn"],[3,"type","formControlName"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.YNc(1,C,4,3,"div",1),e.TgZ(2,"div",2)(3,"label"),e._uU(4,"smartphone id"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e._uU(8,"Submit"),e.qZA(),e.TgZ(9,"button",6),e._uU(10,"Reset"),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("ngForOf",o.formFields),e.xp6(4),e.Q6J("formControl",o.smartphoneId),e.xp6(2),e.Q6J("disabled",o.form.invalid))},dependencies:[r.UX,r._Y,r.Fj,r.JJ,r.JL,r.oH,r.sg,r.u,a.sg],styles:["label[_ngcontent-%COMP%]{color:#000}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-buttons[_ngcontent-%COMP%]{width:100%;display:flex}.form-buttons__btn[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0}),n})();const v=["item",""];function P(n,i){if(1&n&&(e.TgZ(0,"div",5)(1,"label"),e._uU(2),e.qZA(),e._UZ(3,"input",6),e.qZA()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("type",t.type)("formControlName",t.name)}}let F=(()=>{class n{constructor(t){this.formBuilder=t,this.isSubmitted=new e.vpe,this.formFields=[],this.form=this.formBuilder.group({})}ngOnInit(){this.form=new r.cw({id:new r.NI(this.item.id,{nonNullable:!0}),description:new r.NI(this.item.description,{nonNullable:!0}),imagePath:new r.NI(this.item.imagePath,{nonNullable:!0}),model:new r.NI(this.item.model,{nonNullable:!0}),firm:new r.NI(this.item.firm,{nonNullable:!0}),price:new r.NI(this.item.price,{nonNullable:!0})}),this.formFields=[{name:"id",type:"text",value:this.form.value.id},{name:"imagePath",type:"text",value:this.form.value.imagePath},{name:"description",type:"text",value:this.form.value.description},{name:"price",type:"number",value:this.form.value.price},{name:"firm",type:"text",value:this.form.value.firm},{name:"model",type:"text",value:this.form.value.model}],this.generateFormFields()}generateFormFields(){for(let t of this.formFields)this.form.addControl(t.name,this.formBuilder.control(t.value,r.kI.required))}onSubmit(){this.isSubmitted.emit(this.form.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["smartphones-form","item",""]],inputs:{item:"item"},outputs:{isSubmitted:"isSubmitted"},standalone:!0,features:[e.jDz],attrs:v,decls:7,vars:3,consts:[[1,"form",3,"formGroup","ngSubmit"],["class","form-input",4,"ngFor","ngForOf"],[1,"form-buttons"],["type","submit",1,"form-buttons__btn",3,"disabled"],["type","reset",1,"form-buttons__btn"],[1,"form-input"],[3,"type","formControlName"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.YNc(1,P,4,3,"div",1),e.TgZ(2,"div",2)(3,"button",3),e._uU(4,"Submit"),e.qZA(),e.TgZ(5,"button",4),e._uU(6,"Reset"),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("ngForOf",o.formFields),e.xp6(2),e.Q6J("disabled",o.form.invalid))},dependencies:[r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.sg],styles:["label[_ngcontent-%COMP%]{color:#000}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-buttons[_ngcontent-%COMP%]{width:100%;display:flex}.form-buttons__btn[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0}),n})();function O(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"headphones-form",2),e.NdJ("isSubmitted",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onHeadphonesSubmitted(s.product,s.smartphoneId))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("item",t.product)}}function w(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"smartphones-form",2),e.NdJ("isSubmitted",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.onSmartphoneSubmitted(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("item",t.product)}}let T=(()=>{class n{constructor(t){this.productFacade=t,this.shopCategory=m.tA,this.isSubmitted=new e.vpe}onHeadphonesSubmitted(t,o){switch(this.mode){case"create":console.log("headphones created",t),this.productFacade.createProductToOtherCategory(m.tA.Phones,o,m.tA.Headphones,t);break;case"edit":this.productFacade.updateProduct(m.tA.Headphones,t)}}onSmartphoneSubmitted(t){switch(this.mode){case"create":this.productFacade.createProduct(m.tA.Phones,t);break;case"edit":this.productFacade.updateProduct(m.tA.Phones,t)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.g0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["admin-form"]],inputs:{product:"product",mode:"mode",category:"category"},outputs:{isSubmitted:"isSubmitted"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"item","isSubmitted"]],template:function(t,o){1&t&&(e.ynx(0,0),e.YNc(1,O,2,1,"ng-container",1),e.YNc(2,w,2,1,"ng-container",1),e.BQk()),2&t&&(e.Q6J("ngSwitch",o.category),e.xp6(1),e.Q6J("ngSwitchCase",o.shopCategory.Headphones),e.xp6(1),e.Q6J("ngSwitchCase",o.shopCategory.Phones))},dependencies:[r.UX,a.RF,a.n9,x,F],encapsulation:2,changeDetection:0}),n})();function A(n,i){if(1&n&&e._UZ(0,"delete-product-icon",7),2&n){const t=e.oxw();e.Q6J("productId",t.product.id)("category",t.category)}}let Z=(()=>{class n{constructor(){this.randomId=this.generateRandomId(6)}generateRandomId(t){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let d=0;d<t;d++){const k=Math.floor(Math.random()*o.length);s+=o.charAt(k)}return s}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["product-tab"]],inputs:{product:"product",title:"title",category:"category",mode:"mode"},standalone:!0,features:[e.jDz],decls:8,vars:7,consts:[[1,"tab"],["type","checkbox",3,"id"],[1,"tab-label",3,"for"],[1,"tab-label-icons"],[3,"productId","category",4,"ngIf"],[1,"tab-content"],[3,"product","category","mode"],[3,"productId","category"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"label",2),e._uU(3),e.TgZ(4,"div",3),e.YNc(5,A,1,2,"delete-product-icon",4),e.qZA()(),e.TgZ(6,"div",5),e._UZ(7,"admin-form",6),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("id",o.product.model||o.randomId),e.xp6(1),e.Q6J("for",o.product.model||o.randomId),e.xp6(1),e.hij(" ",o.title," "),e.xp6(2),e.Q6J("ngIf",o.product.id),e.xp6(2),e.Q6J("product",o.product)("category",o.category)("mode",o.mode))},dependencies:[a.O5,b,T],styles:['@charset "UTF-8";input[_ngcontent-%COMP%]{position:absolute;opacity:0;z-index:-1}.tab[_ngcontent-%COMP%]{width:100%;color:#000;border-color:#000;overflow:hidden}.tab[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}.tab-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;place-items:center;padding:1em;background:#eeeeee;font-weight:700;cursor:pointer;font-family:Jetbrains,sans-serif;font-size:1.25rem}.tab-label[_ngcontent-%COMP%]:hover{background:#d5d5d5}.tab-label[_ngcontent-%COMP%]:before{content:"\\276f";width:1em;height:1em;margin-right:2rem;text-align:center;transition:all .35s}.tab-label-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;place-items:center;gap:1rem;z-index:50}.tab-content[_ngcontent-%COMP%]{max-height:0;padding:0 1em;color:#eee;background:white;transition:all .35s ease-in-out}.tab-close[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1em;font-size:.75em;background:#eeeeee;cursor:pointer}.tab-close[_ngcontent-%COMP%]:hover{background:#d5d5d5}input[_ngcontent-%COMP%]:checked + .tab-label[_ngcontent-%COMP%]{background:#d5d5d5}input[_ngcontent-%COMP%]:checked + .tab-label[_ngcontent-%COMP%]:before{transform:rotate(90deg)}input[_ngcontent-%COMP%]:checked ~ .tab-content[_ngcontent-%COMP%]{max-height:100vh;padding:1em}'],changeDetection:0}),n})();function M(n,i){if(1&n&&e._UZ(0,"product-tab",3),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("title",t.model)("product",t)("category",o.category)("mode","edit")}}let I=(()=>{class n{trackProduct(t,o){return o?o.id:void 0}getEmptyObject(){return(0,m.N9)(this.category)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["products-tabs"]],inputs:{productsOfCategory:"productsOfCategory",category:"category"},standalone:!0,features:[e.jDz],decls:3,vars:6,consts:[[1,"tabs"],[3,"title","product","category","mode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"product","category","title","mode"],[3,"title","product","category","mode"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,M,1,4,"product-tab",1),e._UZ(2,"product-tab",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.productsOfCategory)("ngForTrackBy",o.trackProduct),e.xp6(1),e.Q6J("product",o.getEmptyObject())("category",o.category)("title","new: "+o.category)("mode","create"))},dependencies:[a.sg,Z],styles:[".tabs[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;box-shadow:0 4px 4px -2px #00000080}"],changeDetection:0}),n})();function S(n,i){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.qZA(),e.TgZ(3,"div",5),e._UZ(4,"products-tabs",6),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw().ngIf;e.xp6(2),e.Oqu(t),e.xp6(2),e.Q6J("productsOfCategory",o[t])("category",t)}}function N(n,i){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,S,5,3,"div",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.shopCategoryStrings)("ngForTrackBy",t.trackCategory)}}let J=(()=>{class n{constructor(t){this.productFacade=t,this.shopCategoryStrings=Object.values(m.tA)}ngOnInit(){}trackCategory(t,o){return o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.g0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["admin-page"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["class","categories",4,"ngIf"],[1,"categories"],["class","category",4,"ngFor","ngForOf","ngForTrackBy"],[1,"category"],[1,"category__name"],[1,"category__products"],[3,"productsOfCategory","category"]],template:function(t,o){1&t&&(e.YNc(0,N,2,2,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.productFacade.products$))},dependencies:[a.sg,a.Ov,a.O5,I],styles:[".categories[_ngcontent-%COMP%]{padding-top:15rem;display:flex;flex-direction:column;place-items:center}.category[_ngcontent-%COMP%]{width:100vw;max-width:150rem;min-height:5rem;display:flex;flex-direction:row}@media (max-width: 900px){.category[_ngcontent-%COMP%]{flex-direction:column}}.category[_ngcontent-%COMP%]:not(last-child){border-bottom:#000000 1px solid}.category__name[_ngcontent-%COMP%]{min-width:30%;font-size:5rem;font-family:JetBrains,sans-serif}.category__products[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.product[_ngcontent-%COMP%]{width:100%;height:4rem;display:flex;flex-direction:row;place-items:center;justify-content:space-between;border:1px blue solid}.product__name[_ngcontent-%COMP%]{font-family:JetBrains,sans-serif;font-size:2rem;padding-left:2rem}.product__icons[_ngcontent-%COMP%]{padding-right:2rem}"],changeDetection:0}),n})()}}]);